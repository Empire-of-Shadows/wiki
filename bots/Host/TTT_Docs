# Tic‑Tac‑Toe (TTT) — How it works

This is a server-hosted Tic‑Tac‑Toe game with slash commands, lobby flow, per‑game channels, a discussion thread, and a persistent leaderboard.

## Quick start
1. Go to the designated TTT lobby channel (your server will have a specific lobby).
2. Run the command:
   - /tictactoe start
   - Choose:
     - Difficulty: Easy (3×3) or Medium (5×5)
     - Opponent (optional): Invite someone directly, otherwise it’s open
     - Who starts (optional): Me, Opponent, or Random
     - Visibility (optional): Public thread or Private thread for discussion
3. The bot creates a new game channel and posts a lobby message in the lobby. If you invited an opponent, only they can join; otherwise anyone can join from the lobby message’s Join Game button.
4. Once the second player joins, the bot posts the game board (buttons) in the game channel and starts the match.

## Playing the game
- The board is shown as a grid of buttons. Click a spot to place your mark:
  - Player 1: X
  - Player 2: O
- The embed shows whose turn it is. You can discuss moves in the linked thread.
- Invalid moves (wrong turn or occupied spot) are blocked with an ephemeral message.

## Discussion thread and channel rules
- The game channel is read‑only for general chat to keep the board clean.
- A dedicated discussion thread is created automatically:
  - Public or Private depending on your start options.
  - If private and you specified an opponent, they’re invited to the thread.

## Ending the game
- Win: Three in a row on rows, columns, or diagonals.
- Tie: The board fills without a winner.
- When the game ends:
  - A final “Game Over” embed is posted in the game channel.
  - Results are posted in a configured “win feed” channel (winner/tie and final board).
  - The game channel is scheduled for cleanup and deletion shortly after (about 30 seconds).

## Inactivity cleanup
- If a game is left idle for a while, it may be auto‑cleaned to keep the server tidy.

## Canceling a game
- Use /tictactoe cancel in the game channel.
- Allowed if you’re one of the two players or a moderator with Manage Channels.

---

# Leaderboard (TTT only)

Use the guild‑only command:
/leaderboard tictactoe

Options:
- top: How many users to display (1–50). Defaults to 10.
- sort: How to order results. This has autocomplete in the UI. Options include:
  - wins_desc: Most Wins
  - wins_asc: Least Wins
  - losses_desc: Most Losses
  - losses_asc: Least Losses
  - ties_desc: Most Ties
  - ties_asc: Least Ties
  - win_rate_desc: Highest Win Rate
  - win_rate_asc: Lowest Win Rate
  - net_wins_desc: Best Net Wins (W−L)
  - net_wins_asc: Worst Net Wins (W−L)

What you’ll see:
- Each row shows: Mention — W wins | L losses | T ties | WR win rate%.
- After 10 entries, results are paginated with Previous/Next buttons.
- A short cooldown (about 3 seconds per guild) protects the command from spam.
- If no results are available yet, you’ll get a friendly empty message.

Data source:
- Results are pulled from the persistent TTT stats (wins/losses/ties) that are updated automatically when games end.

Examples:
- Show the top 10 by most wins:
/leaderboard tictactoe
- Show the top 25 by best win rate:
/leaderboard tictactoe top:25 sort:win_rate_desc

---

# Tips and common questions

- I can’t start a game: Make sure you’re in the designated TTT lobby channel.
- The board didn’t update: Ensure you clicked on your turn and on an empty spot.
- Private game: Choose Private Thread in the visibility option and invite an opponent.
- Cleanup timing: After a match ends, the channel is removed automatically shortly after; save anything you need from the discussion thread first.

If you need more help with setup (like where the lobby/category live) ask a server moderator—they’re configured per server.

---


## Phased Roadmap

### Phase 1 — Foundation & QoL (1–2 sprints)
- Rematch button and flow.
- Better invites with expiration.
- Basic match history per player (last 10).
- Blitz mode (per‑move timer).
- Leaderboard UI polish (pagination, sort memory).
- Metrics and error logging improvements.

Success metric: +20% matches/session, lower early quits.

### Phase 2 — Party Mode Beta (1–2 sprints)
- Party lobby create/join/leave with King of the Hill and Hot‑Seat.
- Lightweight party scoreboard.
- Optional gimmicks toggle.
- Admin kill switch and rate limits.

Success metric: >25% of matches launched via party; average party length ≥3 matches.

### Phase 3 — Tournament MVP (2–3 sprints)
- Single‑elimination brackets (4–64 players).
- Seeding (random or by leaderboard).
- Auto match channel creation, progress tracking.
- Basic admin controls (replace, forfeit).

Success metric: 80% of brackets complete without manual intervention; positive organizer feedback.

### Phase 4 — Competitive Loop (2–3 sprints)
- Ranked queue and ELO; provisional placement.
- Seasonal resets; seasonal leaderboard.
- Anti‑farm/duplicate‑opponent controls.
- Profile page: ELO, season badges, streaks.

Success metric: Stable ELO distribution; return rate across seasons; reduced abuse incidents.

### Phase 5 — Delight & Scale (ongoing)
- Achievements and cosmetics store (earnable).
- Replays and highlights in the win feed.
- Advanced tournaments (double‑elim, pools).
- Localization and accessibility improvements.

Success metric: Increased retention, community events run by users, low moderation overhead.